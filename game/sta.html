<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no" , initial-scale=1.0 />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <title>é§…</title>
  <style>
    body {
      margin: 0;
    }
  </style>
</head>

<body>
  <canvas id="canv" width="320" height="320"></canvas>
  </canvas>
  <script type="module">
    const TSURUGA = [
      [4, 58, "æ•¦è³€"],
      [5, 42, "æ•¦è³€"], [5, 57, "ç±³åŽŸ"],
      [6, 21, "æ•¦è³€"], [6, 47, "åå¤å±‹"],
      [7, 8, "å¤§é˜ª"], [7, 22, "æ•¦è³€"], [7, 47, "ç±³åŽŸ"], [7, 57, "æ•¦è³€"],
      [8, 8, "æ­¦ç”Ÿ"], [8, 12, "å¤§é˜ª"], [8, 27, "æ•¦è³€"], [8, 46, "åå¤å±‹"],
      [9, 14, "å¤§é˜ª"], [9, 25, "æ•¦è³€"], [9, 45, "ç±³åŽŸ"],
      [10, 26, "æ•¦è³€"], [10, 45, "åå¤å±‹"], [10, 50, "å¤§é˜ª"],
      [11, 26, "æ•¦è³€"], [11, 45, "ç±³åŽŸ"],
      [12, 17, "å¤§é˜ª"], [12, 26, "æ•¦è³€"], [12, 45, "å¤§é˜ª"],
      [13, 26, "æ•¦è³€"], [13, 45, "ç±³åŽŸ"], [13, 50, "å¤§é˜ª"],
      [14, 26, "æ•¦è³€"], [14, 45, "åå¤å±‹"],
      [15, 0, "æ­¦ç”Ÿ"], [15, 15, "å¤§é˜ª"], [15, 26, "é•·æµœ"], [15, 45, "åå¤å±‹"],
      [16, 1, "ä»Šæ´¥"], [16, 15, "å¤§é˜ª"], [16, 26, "æ­¦ç”Ÿ"], [16, 45, "ç±³åŽŸ"],
      [17, 0, "æ•¦è³€"], [17, 15, "å¤§é˜ª"], [17, 30, "æ­¦ç”Ÿ"], [17, 45, "åå¤å±‹"],
      [18, 1, "æ•¦è³€"], [18, 32, "æ•¦è³€"], [18, 45, "ç±³åŽŸ"], [18, 50, "å¤§é˜ª"],
      [19, 4, "å¤§é˜ª"], [19, 10, "æ•¦è³€"], [19, 31, "æ•¦è³€"], [19, 51, "åå¤å±‹"],
      [20, 4, "æ•¦è³€"], [20, 24, "æ•¦è³€"], [20, 44, "å¤§é˜ª"],
      [21, 4, "ç±³åŽŸ"], [21, 12, "æ•¦è³€"], [21, 48, "æ•¦è³€"],
      [22, 56, "æ•¦è³€"],
      [23, 24, "æ•¦è³€"]
    ]

    const KANAZAWA = [
      [6, 15, "é‡‘æ²¢"], [6, 32, "é‡‘æ²¢"],
      [7, 0, "èŠ¦åŽŸ"], [7, 17, "ç¦äº•"], [7, 42, "ç¦äº•"],
      [8, 1, "èŠ¦åŽŸ"], [8, 23, "ç¦äº•"], [8, 49, "ç¦äº•"],
      [9, 5, "é‡‘æ²¢"], [9, 28, "é‡‘æ²¢"], [9, 32, "ç¦äº•"], [9, 52, "é‡‘æ²¢"],
      [10, 3, "é‡‘æ²¢"], [10, 33, "ç¦äº•"], [10, 51, "é‡‘æ²¢"],
      [11, 1, "é‡‘æ²¢"], [11, 30, "ç¦äº•"], [11, 51, "é‡‘æ²¢"], [11, 58, "å’Œå€‰"],
      [12, 31, "ç¦äº•"], [12, 51, "é‡‘æ²¢"],
      [13, 25, "é‡‘æ²¢"], [13, 30, "ç¦äº•"], [13, 51, "é‡‘æ²¢"],
      [14, 18, "ç¦äº•"], [14, 51, "é‡‘æ²¢"], [14, 59, "é‡‘æ²¢"],
      [15, 18, "ç¦äº•"], [14, 40, "ç¦äº•"], [14, 51, "é‡‘æ²¢"],
      [16, 17, "èŠ¦åŽŸ"], [16, 41, "ç¦äº•"], [16, 51, "é‡‘æ²¢"], [16, 59, "é‡‘æ²¢"],
      [17, 17, "é‡‘æ²¢"], [17, 50, "é‡‘æ²¢"],
      [18, 5, "èŠ¦åŽŸ"], [18, 32, "ç¦äº•"], [18, 51, "é‡‘æ²¢"], [18, 59, "é‡‘æ²¢"],
      [19, 37, "ç¦äº•"], [19, 52, "é‡‘æ²¢"], [19, 58, "é‡‘æ²¢"],
      [20, 14, "ç¦äº•"], [20, 51, "é‡‘æ²¢"], [20, 55, "ç¦äº•"],
      [21, 15, "é‡‘æ²¢"], [21, 33, "ç¦äº•"], [21, 51, "é‡‘æ²¢"], [21, 58, "é‡‘æ²¢"],
      [22, 43, "ç¦äº•"], [22, 51, "é‡‘æ²¢"],
      [23, 20, "ç¦äº•"], [23, 42, "é‡‘æ²¢"]
    ]

    const CLOCKS = ["ðŸ•›", "ðŸ•", "ðŸ•‘", "ðŸ•’", "ðŸ•“", "ðŸ•”", "ðŸ••", "ðŸ•–", "ðŸ•—", "ðŸ•˜", "ðŸ•™", "ðŸ•š"]
    const DISP = { w: 320, h: 320 }
    const TRAIN_FONT_SIZE = 32
    const TEXT_FONT_SIZE = 16
    const TRAIN_NUM = 3
    const OPEN_TIME = 4.6

    let ctx
    let timerId
    let startTime
    let nowTime

    const main = () => {
      const canv = document.getElementById("canv")
      ctx = canv.getContext("2d")
      start()
    }

    const start = () => {
      startTime = Date.now()
      nowTime = 0
      timerId = setInterval(() => {
        nowTime = ((Date.now() - startTime) / 200 + OPEN_TIME * 60) % (60 * 24)
        draw()
      }, 1000 / 60)
    }

    const draw = () => {
      ctx.fillStyle = "rgb(235,208,175)"
      ctx.fillRect(0, 0, DISP.w, DISP.h)
      ctx.strokeStyle = "gray"
      ctx.fillStyle = "gray"
      ctx.lineWidth = 1
      ctx.beginPath()
      ctx.moveTo(0, 164); ctx.lineTo(DISP.w, 164)
      ctx.moveTo(0, 168); ctx.lineTo(DISP.w, 168)
      ctx.moveTo(0, 214); ctx.lineTo(DISP.w, 214)
      ctx.moveTo(0, 218); ctx.lineTo(DISP.w, 218)
      ctx.stroke()
      ctx.fillRect(50, 176, 220, 30)
      ctx.fillStyle = "black"
      ctx.font = 64 + "px Monospace"
      ctx.fillText(CLOCKS[parseInt(nowTime / 60) % 12], (DISP.w - 64) / 2, 64)
      for (let i = 0; i < KANAZAWA.length; i++) {
        const x = (nowTime - (KANAZAWA[i][0] * 60 + KANAZAWA[i][1])) * 30 + (DISP.w - TRAIN_FONT_SIZE * TRAIN_NUM) / 2
        if (x + TRAIN_FONT_SIZE * (TRAIN_NUM + 1) < 0 || x > DISP.h) {
          continue
        }
        ctx.font = TRAIN_FONT_SIZE + "px Monospace"
        ctx.fillText("ðŸšƒðŸšƒðŸšƒ", x, 163)
        ctx.font = TEXT_FONT_SIZE + "px Monospace"
        ctx.fillText(
          KANAZAWA[i][0] + ":" + ("00" + KANAZAWA[i][1]).slice(-2) + " " + KANAZAWA[i][2],
          x,
          130
        )
      }
      for (let i = 0; i < TSURUGA.length; i++) {
        const x = (-nowTime + (TSURUGA[i][0] * 60 + TSURUGA[i][1])) * 30 + TRAIN_FONT_SIZE * TRAIN_NUM
        if (x + TRAIN_FONT_SIZE * (TRAIN_NUM + 1) < 0 || x > DISP.h) {
          continue
        }
        ctx.font = TRAIN_FONT_SIZE + "px Monospace"
        ctx.fillText("ðŸšƒðŸšƒðŸšƒ", x, 213)
        ctx.font = TEXT_FONT_SIZE + "px Monospace"
        ctx.fillText(
          TSURUGA[i][0] + ":" + ("00" + TSURUGA[i][1]).slice(-2) + " " + TSURUGA[i][2],
          x, 240
        )
      }
    }

    main()
  </script>
</body>

</html>