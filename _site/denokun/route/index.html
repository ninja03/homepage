<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title></title>
    <link rel="stylesheet" href="/denokun/style.css">
  </head>
  <body>
    <div class="header" onclick="location.href = '.'">
      
    </div>
      <p>サーバにアクセスしてきたURLに応じて<br>
関数を呼び出す<br>
仮のレスポンスを返す</p>
<p><code>main.js</code></p>
<pre><code class="language-javascript">class MyServer extends Server {
  api(path, req) {
    switch (path) {
      case &quot;/api/regist&quot;:          return this.regist(req)
      case &quot;/api/login&quot;:           return this.login(req)
      case &quot;/api/public_timeline&quot;: return this.publicTimeline(req)
      case &quot;/api/user&quot;:            return this.getUser(req)
      case &quot;/api/logout&quot;:          return this.logout(req)
      case &quot;/api/timeline&quot;:        return this.timeline(req)
      case &quot;/api/post&quot;:            return this.post(req)
      case &quot;/api/good&quot;:            return this.good(req)
    }
  }

  regist(req) {
    console.log(req.name, req.pass)
    return {
      session: &quot;43604de8-fb27-48a1-a33d-7df8d6139505&quot;
    }
  }

  login(req) {
    console.log(req.name, req.pass)
    return {
      session: &quot;43604de8-fb27-48a1-a33d-7df8d6139505&quot;
    }
  }

  logout(req) {
    console.log(req.session)
    return {}
  }

  publicTimeline(req) {
    console.log(req.sort)
    return [
      {
        id: 1,
        url: &quot;http://denoupload/1.png&quot;,
        good: 3
      }
    ]
  }

  timeline(req) {
    console.log(req.session, req.sort)
    return [
      {
        id: 1,
        url: &quot;http://denoupload/1.png&quot;,
        good: 3,
        mygood: false
      }
    ]
  }

  post(req) {
    console.log(req.session, req.url)
    return {}
  }

  good(req) {
    console.log(req.session, req.photoId)
    return {}
  }
}
</code></pre>

  </body>
</html>