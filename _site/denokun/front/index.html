<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title></title>
    <link rel="stylesheet" href="/denokun/style.css">
  </head>
  <body>
    <div class="header" onclick="location.href = '.'">
      
    </div>
      <p>Alpine.jsでHTMLを動的にする</p>
<p>「ユーザ登録」「ログイン」「アップロード」を押すとダイアログを表示する<br>
「並び替え」を押すとボタンが「新着順」←→「人気順」と変化する</p>
<p><code>static/index.html</code></p>
<pre><code class="language-html">&lt;!-- 全体 --&gt;
&lt;div x-data=&quot;app&quot;&gt;
  &lt;!-- メニューバー --&gt;
  &lt;div&gt;
    &lt;img src=&quot;logo.dio.svg&quot;&gt;
    &lt;span x-text=&quot;userName + 'さん'&quot; x-show=&quot;logined&quot;&gt;&lt;/span&gt;
    &lt;button @click=&quot;openRegist()&quot; x-show=&quot;logined&quot;&gt;ユーザ登録&lt;/button&gt;
    &lt;button @click=&quot;openLogin()&quot; x-show=&quot;!logined&quot;&gt;ログイン&lt;/button&gt;
    &lt;button @click=&quot;logout()&quot; x-show=&quot;!logined&quot;&gt;ログアウト&lt;/button&gt;
    &lt;button @click=&quot;openUpload()&quot; x-show=&quot;logined&quot;&gt;アップロード&lt;/button&gt;
    &lt;button @click=&quot;changeType()&quot; x-text=&quot;sort&quot;&gt;&lt;/button&gt;
  &lt;/div&gt;

  &lt;!-- タイムライン --&gt;
  &lt;div&gt;
    &lt;div&gt;
      &lt;div&gt;写真ID:1&lt;/div&gt;
      &lt;img&gt;
      &lt;button&gt;1いいね&lt;/button&gt;
    &lt;/div&gt;

    &lt;div&gt;
      &lt;div&gt;写真ID:2&lt;/div&gt;
      &lt;img&gt;
      &lt;button&gt;2いいね&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- ユーザー登録ダイアログ --&gt;
  &lt;div x-show=&quot;showRegist&quot;&gt;
    &lt;div&gt;
      ユーザ名: &lt;input type=&quot;text&quot; x-model=&quot;registName&quot;&gt;
      パスワード: &lt;input type=&quot;text&quot; x-model=&quot;registPass&quot;&gt;
      &lt;button @click=&quot;regist()&quot;&gt;登録&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- ログインダイアログ --&gt;
  &lt;div x-show=&quot;showLogin&quot;&gt;
    ユーザ名: &lt;input type=&quot;text&quot; x-model=&quot;loginName&quot;&gt;
    パスワード: &lt;input type=&quot;text&quot; x-model=&quot;loginPass&quot;&gt;
    &lt;button @click=&quot;login()&quot;&gt;ログイン&lt;/button&gt;
  &lt;/div&gt;

  &lt;!-- アップロードダイアログ --&gt;
  &lt;div x-show=&quot;showUpload&quot;&gt;
    プレビュー
    &lt;img&gt;
    ファイル選択
    &lt;input type=&quot;file&quot; @change=&quot;fileSelected()&quot; required&gt;
    &lt;button @click=&quot;upload()&quot;&gt;アップロード&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;script type=&quot;module&quot;&gt;
  import Alpine from &quot;https://unpkg.com/alpinejs@3.2.3/dist/module.esm.js&quot;

  Alpine.data(&quot;app&quot;, () =&gt; ({
    userName: &quot;&quot;,      // ログイン中ユーザ名
    logined: false,    // ログイン中か

    // 並び替えボタン
    sort: &quot;新着順&quot;,

    changeType() {
      console.log(&quot;タイムライン並び順変更&quot;, this.sort)
      this.sort = this.sort === &quot;新着順&quot; ? &quot;人気順&quot; : &quot;新着順&quot;
    },

    // ユーザ登録ダイアログ
    showRegist: false, // ユーザ登録ダイアログ表示中か
    registName: &quot;&quot;,    // ユーザ登録ダイアログ名前入力値
    registPass: &quot;&quot;,    // ユーザ登録ダイアログパスワード入力値

    openRegist() {
      console.log(&quot;ユーザ登録ダイアログを開く&quot;)
      this.showRegist = true
    },

    closeRegist() {
      console.log(&quot;ユーザ登録ダイアログを閉じる&quot;)
      this.showRegist = false
    },

    regist() {
      console.log(&quot;ユーザを登録した&quot;, this.registName, this.registPass)
      this.userName = &quot;ユーザ1&quot;
      this.logined = true
      this.closeRegist()
    }

    // ログインダイアログ
    showLogin: false,  // ログインダイアログ表示中か
    loginName: &quot;&quot;,     // ログインダイアログ名前入力値
    loginPass: &quot;&quot;,     // ログインダイアログパスワード入力値

    openLogin() {
      console.log(&quot;ログインダイアログを開く&quot;)
      this.showLogin = true
    },

    closeLogin() {
      console.log(&quot;ログインダイアログを閉じる&quot;)
      this.showLogin = false
    },

    login() {
      console.log(&quot;ログインした&quot;, this.loginUser, this.loginPass)
      this.userName = &quot;ユーザ1&quot;
      this.logined = true
      this.closeLogin()
    },

    logout() {
      console.log(&quot;ログアウトした&quot;)
      this.userName = null
      this.logined = false
    },

    // アップロードダイアログ
    showUpload: false, // アップロードダイアログ表示中か

    openUpload() {
      console.log(&quot;アップロードダイアログを開く&quot;)
      this.showUpload = true
    },

    closeUpload() {
      console.log(&quot;アップロードダイアログを閉じる&quot;)
      this.showUpload = false
    },

    fileSelected() {
      console.log(&quot;アップロードするファイルを選んだ&quot;)
    },

    upload() {
      console.log(&quot;アップロードした&quot;)
      this.closeUpload()
    }
  }))

  Alpine.start()
&lt;/script&gt;
</code></pre>

  </body>
</html>